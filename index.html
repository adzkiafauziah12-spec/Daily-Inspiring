<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Inspiring - Koleksi Link</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #fdf2f8; }
        [x-cloak] { display: none !important; }
        .product-card:hover { transform: translateY(-2px); transition: all 0.2s; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body x-data="shopApp()" x-init="init()">

    <!-- Header Section -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-40 border-b border-pink-100">
        <div class="max-w-xl mx-auto px-5 h-16 flex items-center justify-between">
            <h1 class="text-pink-600 font-bold text-xl flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#db2777" stroke="none"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                Daily Inspiring
            </h1>
            <div x-show="isAdmin" x-cloak class="flex items-center gap-2">
                <span class="text-[10px] bg-green-100 text-green-600 px-2 py-1 rounded-full font-bold uppercase">Mode Edit Aktif</span>
                <button @click="logout()" class="text-slate-400 hover:text-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-xl mx-auto px-5 py-6 space-y-6 pb-24">
        
        <!-- Search Input -->
        <div class="relative group">
            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-pink-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            </div>
            <input type="text" x-model="searchQuery" 
                class="w-full bg-white border-2 border-pink-50 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-pink-300 focus:ring-4 focus:ring-pink-50 transition-all shadow-sm text-sm" 
                placeholder="Cari barang atau kategori...">
        </div>

        <!-- Category Tabs -->
        <div class="flex gap-2 overflow-x-auto no-scrollbar pb-2 items-center">
            <button @click="activeCategory = 'Semua'"
                :class="activeCategory === 'Semua' ? 'bg-pink-500 text-white shadow-pink-200' : 'bg-white text-slate-500 hover:bg-pink-50'"
                class="px-5 py-2.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all shadow-sm border border-transparent uppercase tracking-wider">
                Semua
            </button>
            <template x-for="cat in categories" :key="cat">
                <button @click="activeCategory = cat"
                    :class="activeCategory === cat ? 'bg-pink-500 text-white shadow-pink-200' : 'bg-white text-slate-500 hover:bg-pink-50'"
                    class="px-5 py-2.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all shadow-sm border border-transparent uppercase tracking-wider"
                    x-text="cat">
                </button>
            </template>
            <!-- Add Cat Button (Admin Only) -->
            <button x-show="isAdmin" @click="showCatModal = true" class="p-2 bg-pink-100 text-pink-600 rounded-xl flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
            </button>
        </div>

        <!-- Product List -->
        <div class="grid grid-cols-1 gap-4">
            <template x-for="item in filteredItems()" :key="item.id">
                <div class="product-card bg-white rounded-3xl p-3 border border-pink-50 shadow-sm flex items-center gap-4 relative overflow-hidden">
                    <!-- Image -->
                    <div class="w-24 h-24 bg-pink-50 rounded-2xl flex-shrink-0 overflow-hidden border border-pink-50">
                        <img :src="item.image" class="w-full h-full object-cover" @error="$el.src='https://via.placeholder.com/150?text=No+Image'">
                    </div>
                    
                    <!-- Content -->
                    <div class="flex-grow pr-4">
                        <p class="text-[9px] font-bold text-pink-400 uppercase mb-1" x-text="item.category"></p>
                        <h3 class="text-sm font-bold text-slate-800 leading-tight line-clamp-2" x-text="item.title"></h3>
                        <a :href="item.link" target="_blank" class="mt-3 inline-flex items-center gap-1.5 bg-pink-500 text-white px-4 py-2 rounded-xl text-[11px] font-bold hover:bg-pink-600 transition-colors">
                            Cek Produk
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
                        </a>
                    </div>

                    <!-- Admin Delete -->
                    <button x-show="isAdmin" @click="deleteItem(item.id)" 
                        class="absolute top-2 right-2 p-1.5 text-slate-300 hover:text-red-500 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
                    </button>
                </div>
            </template>

            <!-- Empty State -->
            <div x-show="filteredItems().length === 0" class="text-center py-20">
                <div class="bg-white w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 border border-pink-50">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f472b6" stroke-width="1.5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                </div>
                <p class="text-slate-400 text-sm font-semibold tracking-wide uppercase">Barang tidak ditemukan</p>
            </div>
        </div>
    </main>

    <!-- FLOATING ADMIN BUTTON (Gembok / Plus) -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col gap-3">
        <!-- Add Item Button (Only shown when Admin is logged in) -->
        <button x-show="isAdmin" x-cloak @click="showAddModal = true"
            class="w-14 h-14 bg-pink-600 text-white rounded-full flex items-center justify-center shadow-xl shadow-pink-200 border-2 border-white transform hover:scale-110 active:scale-95 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
        
        <!-- Toggle Admin Button (Gembok) -->
        <button @click="isAdmin ? (isAdmin = false) : (showLoginModal = true)" 
            :class="isAdmin ? 'bg-slate-800' : 'bg-pink-500'"
            class="w-14 h-14 text-white rounded-full flex items-center justify-center shadow-xl border-2 border-white transform hover:scale-110 active:scale-95 transition-all">
            <svg x-show="!isAdmin" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
            <svg x-show="isAdmin" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        </button>
    </div>

    <!-- MODAL: LOGIN ADMIN -->
    <div x-show="showLoginModal" x-cloak class="fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/40 backdrop-blur-sm">
        <div @click.away="showLoginModal = false" class="bg-white w-full max-w-xs rounded-3xl p-8 shadow-2xl">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4 text-pink-500">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                </div>
                <h3 class="font-bold text-slate-800 text-lg">Akses Admin</h3>
                <p class="text-xs text-slate-400 mt-1 uppercase font-bold tracking-widest">Masukkan Password</p>
            </div>
            <input type="password" x-model="loginPass" 
                class="w-full bg-slate-50 border-2 border-slate-100 rounded-2xl py-4 text-center text-xl font-bold tracking-[1em] outline-none focus:border-pink-300 transition-all mb-4" 
                placeholder="****" @keydown.enter="login()">
            <button @click="login()" class="w-full bg-pink-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-pink-100 hover:bg-pink-600">Buka Gembok</button>
        </div>
    </div>

    <!-- MODAL: ADD ITEM -->
    <div x-show="showAddModal" x-cloak class="fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-6 bg-slate-900/40 backdrop-blur-sm">
        <div @click.away="showAddModal = false" class="bg-white w-full max-w-md rounded-t-[2.5rem] sm:rounded-3xl p-8 shadow-2xl">
            <h3 class="font-bold text-slate-800 text-xl mb-6 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ec4899" stroke-width="2.5"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                Tambah Katalog Baru
            </h3>
            <div class="space-y-4">
                <div>
                    <label class="text-[10px] font-bold text-slate-400 uppercase ml-1 tracking-widest">Kategori</label>
                    <select x-model="newItem.category" class="w-full bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-pink-300 text-sm font-semibold mt-1">
                        <template x-for="c in categories" :key="c">
                            <option :value="c" x-text="c"></option>
                        </template>
                    </select>
                </div>
                <div>
                    <label class="text-[10px] font-bold text-slate-400 uppercase ml-1 tracking-widest">Nama Barang</label>
                    <input type="text" x-model="newItem.title" class="w-full bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-pink-300 text-sm mt-1" placeholder="Contoh: Lampu Tidur Akrilik">
                </div>
                <div>
                    <label class="text-[10px] font-bold text-slate-400 uppercase ml-1 tracking-widest">URL Gambar (Tempel Link Foto)</label>
                    <input type="text" x-model="newItem.image" class="w-full bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-pink-300 text-sm mt-1" placeholder="https://...">
                </div>
                <div>
                    <label class="text-[10px] font-bold text-slate-400 uppercase ml-1 tracking-widest">Link Shopee / Toko</label>
                    <input type="text" x-model="newItem.link" class="w-full bg-slate-50 p-4 rounded-2xl border-2 border-slate-100 outline-none focus:border-pink-300 text-sm mt-1" placeholder="https://shope.ee/...">
                </div>
                <button @click="addItem()" class="w-full bg-pink-500 text-white font-bold py-5 rounded-2xl shadow-lg shadow-pink-100 mt-4">Simpan Katalog</button>
                <button @click="showAddModal = false" class="w-full text-slate-400 font-bold text-[10px] uppercase py-2">Batal</button>
            </div>
        </div>
    </div>

    <!-- MODAL: MANAGE CATEGORIES -->
    <div x-show="showCatModal" x-cloak class="fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/40 backdrop-blur-sm">
        <div @click.away="showCatModal = false" class="bg-white w-full max-w-xs rounded-3xl p-8 shadow-2xl">
            <h3 class="font-bold text-slate-800 text-lg mb-4 text-center">Kelola Kategori</h3>
            <div class="max-h-60 overflow-y-auto space-y-2 mb-6 no-scrollbar">
                <template x-for="cat in categories" :key="cat">
                    <div class="flex items-center justify-between bg-slate-50 p-3 rounded-xl">
                        <span class="text-xs font-bold text-slate-600 uppercase" x-text="cat"></span>
                        <button @click="deleteCategory(cat)" class="text-red-300 hover:text-red-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
                        </button>
                    </div>
                </template>
            </div>
            <div class="space-y-3">
                <input type="text" x-model="newCatName" class="w-full bg-slate-50 p-3 rounded-xl border-2 border-slate-100 text-xs outline-none focus:border-pink-300" placeholder="Nama kategori baru...">
                <button @click="addCategory()" class="w-full bg-pink-500 text-white font-bold py-3 rounded-xl text-xs">Tambah Baru</button>
            </div>
        </div>
    </div>

    <script>
        function shopApp() {
            return {
                isAdmin: false,
                showLoginModal: false,
                showAddModal: false,
                showCatModal: false,
                loginPass: '',
                searchQuery: '',
                activeCategory: 'Semua',
                newCatName: '',
                
                categories: ['Dapur', 'Dekorasi', 'Elektronik'],
                items: [],
                newItem: { title: '', image: '', link: '', category: 'Dapur' },

                init() {
                    const savedItems = localStorage.getItem('di_items_v5');
                    const savedCats = localStorage.getItem('di_cats_v5');
                    if (savedItems) this.items = JSON.parse(savedItems);
                    if (savedCats) this.categories = JSON.parse(savedCats);
                    
                    this.$watch('items', val => localStorage.setItem('di_items_v5', JSON.stringify(val)));
                    this.$watch('categories', val => localStorage.setItem('di_cats_v5', JSON.stringify(val)));
                },

                login() {
                    if (this.loginPass === 'pinkadmin') {
                        this.isAdmin = true;
                        this.showLoginModal = false;
                        this.loginPass = '';
                    } else {
                        alert('Password salah! Coba lagi.');
                    }
                },

                logout() {
                    this.isAdmin = false;
                },

                filteredItems() {
                    return this.items.filter(i => {
                        const matchCat = this.activeCategory === 'Semua' || i.category === this.activeCategory;
                        const matchSearch = i.title.toLowerCase().includes(this.searchQuery.toLowerCase()) || 
                                          i.category.toLowerCase().includes(this.searchQuery.toLowerCase());
                        return matchCat && matchSearch;
                    });
                },

                addItem() {
                    if (!this.newItem.title || !this.newItem.link) return alert('Nama dan Link harus diisi!');
                    this.items.unshift({ ...this.newItem, id: Date.now() });
                    this.showAddModal = false;
                    this.newItem = { title: '', image: '', link: '', category: this.categories[0] || '' };
                },

                deleteItem(id) {
                    if (confirm('Hapus item ini dari katalog?')) {
                        this.items = this.items.filter(i => i.id !== id);
                    }
                },

                addCategory() {
                    const name = this.newCatName.trim();
                    if (name && !this.categories.includes(name)) {
                        this.categories.push(name);
                        this.newCatName = '';
                    }
                },

                deleteCategory(cat) {
                    if (confirm(`Hapus kategori "${cat}"? Item di dalam kategori ini tetap akan ada.`)) {
                        this.categories = this.categories.filter(c => c !== cat);
                        if (this.activeCategory === cat) this.activeCategory = 'Semua';
                    }
                }
            }
        }
    </script>
</body>
</html>

